{{ $page := . }}
<article class="card flex flex-col lg:flex-row gap-6">
    {{ with .Params.thumbnail }}
    <div class="lg:w-1/3">
        <img src="{{ . }}" alt="{{ $page.Title }}" class="card-header-img w-full h-48 object-cover rounded-lg"
            loading="lazy">
    </div>
    {{ end }}

    <div class="lg:w-{{ if .Params.thumbnail }}2/3{{ else }}full{{ end }}">
        <h2 class="card-title mb-2">
            <a href="{{ .RelPermalink }}" class="hover:text-blue-500 transition-colors">{{ .Title }}</a>
        </h2>

        <div class="card-meta mb-3">
            {{ with .Params.author }}
            {{ $authorName := . }}
            {{ if site.Data.writers }}
            {{ with index site.Data.writers . }}
            {{ if .name }}
            {{ $authorName = .name }}
            {{ end }}
            {{ end }}
            {{ end }}
            {{ $authorPage := site.GetPage (printf "/authors/%s" (. | urlize)) }}
            <a href="{{ if $authorPage }}{{ $authorPage.RelPermalink }}{{ else }}#{{ end }}"
                class="font-medium mr-2 hover:text-blue-600 transition-colors truncate min-w-0">{{
                $authorName }}</a>
            <span class="mx-2 flex-shrink-0">•</span>
            {{ end }}
            <time datetime="{{ .Date.Format " 2006-01-02" }}" class="flex-shrink-0 whitespace-nowrap">{{ .Date.Format
                "Jan 2, 2006" }}</time>
            {{ with .Params.reading_time }}
            <span class="mx-2 flex-shrink-0">•</span>
            <span class="text-xs text-muted-foreground flex-shrink-0 whitespace-nowrap">{{ . }} mins</span>
            {{ end }}
        </div>

        <p class="text-main leading-relaxed text-sm mb-4">{{ .Description | truncate 150 "..." }}</p>

        <a href="{{ .RelPermalink }}" class="font-medium text-blue-600 dark:text-blue-400 hover:underline">Read more
            →</a>
    </div>
</article>