{{ define "main" }}
<div class="max-w-7xl mx-auto p-6">
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-main mb-4">Our Authors</h1>
        <p class="text-muted-foreground max-w-2xl mx-auto">Meet the educators and creators behind our content.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {{ range .Data.Terms }}
        {{ $authorID := .Page.Title }}
        {{ $authorData := index site.Data.writers $authorID }}

        {{ if $authorData }}
        <a href="{{ .Page.RelPermalink }}" class="card hover:shadow-lg transition-all group">
            <div class="flex flex-col items-center text-center">
                {{ if $authorData.avatar }}
                <img src="{{ $authorData.avatar }}" alt="{{ $authorData.name }}"
                    class="w-24 h-24 rounded-full mb-4 object-cover ring-2 ring-blue-100 group-hover:ring-blue-500 transition-colors">
                {{ else }}
                <div
                    class="w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center text-2xl font-bold text-blue-600 mb-4 ring-2 ring-blue-50 group-hover:ring-blue-500 transition-colors">
                    {{ substr $authorData.name 0 1 }}
                </div>
                {{ end }}

                <h2 class="text-xl font-bold text-main mb-2">{{ $authorData.name }}</h2>
                <p class="text-sm text-muted-foreground mb-4 line-clamp-2">{{ $authorData.bio }}</p>

                <div class="text-xs font-medium bg-blue-50 text-blue-600 px-3 py-1 rounded-full">
                    {{ .Count }} {{ if eq .Count 1 }}Post{{ else }}Posts{{ end }}
                </div>
            </div>
        </a>
        {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}